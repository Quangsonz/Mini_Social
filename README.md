# Mini Social - Social Media Platform

## üìã Gi·ªõi thi·ªáu d·ª± √°n

**Mini Social** l√† m·ªôt n·ªÅn t·∫£ng m·∫°ng x√£ h·ªôi ƒë∆°n gi·∫£n ƒë∆∞·ª£c ph√°t tri·ªÉn b·∫±ng PHP thu·∫ßn, cho ph√©p ng∆∞·ªùi d√πng ƒëƒÉng k√Ω, ƒëƒÉng b√†i vi·∫øt, t√¨m ki·∫øm v√† qu·∫£n l√Ω n·ªôi dung. D·ª± √°n n√†y ƒë∆∞·ª£c thi·∫øt k·∫ø cho m·ª•c ƒë√≠ch h·ªçc t·∫≠p v√† nghi√™n c·ª©u v·ªÅ c√°c l·ªó h·ªïng b·∫£o m·∫≠t web ph·ªï bi·∫øn.

### ‚ö†Ô∏è L∆∞u √Ω quan tr·ªçng
D·ª± √°n n√†y **C·ªê √ù** ch·ª©a nhi·ªÅu l·ªó h·ªïng b·∫£o m·∫≠t ƒë·ªÉ ph·ª•c v·ª• m·ª•c ƒë√≠ch gi√°o d·ª•c v√† th·ª≠ nghi·ªám. **KH√îNG** n√™n s·ª≠ d·ª•ng trong m√¥i tr∆∞·ªùng production.

### üéØ M·ª•c ƒë√≠ch
- H·ªçc t·∫≠p v√† th·ª±c h√†nh v·ªÅ b·∫£o m·∫≠t web
- Hi·ªÉu r√µ c√°c l·ªó h·ªïng: SQL Injection, XSS, CSRF, Path Traversal
- Th·ª±c h√†nh k·ªπ thu·∫≠t penetration testing
- Ph√°t tri·ªÉn k·ªπ nƒÉng secure coding

## üöÄ T√≠nh nƒÉng ch√≠nh

### üë§ Qu·∫£n l√Ω ng∆∞·ªùi d√πng
- ‚úÖ ƒêƒÉng k√Ω t√†i kho·∫£n m·ªõi
- ‚úÖ ƒêƒÉng nh·∫≠p/ƒêƒÉng xu·∫•t
- ‚úÖ ƒê·ªïi username
- ‚úÖ Qu·∫£n l√Ω profile v·ªõi avatar
- ‚úÖ Ph√¢n quy·ªÅn (User/Admin)

### üìù Qu·∫£n l√Ω b√†i vi·∫øt
- ‚úÖ ƒêƒÉng b√†i vi·∫øt m·ªõi
- ‚úÖ Xem danh s√°ch b√†i vi·∫øt
- ‚úÖ Ch·ªânh s·ª≠a b√†i vi·∫øt
- ‚úÖ X√≥a b√†i vi·∫øt
- ‚úÖ S·∫Øp x·∫øp b√†i vi·∫øt (theo t√™n, ng√†y)

### üîç T√¨m ki·∫øm
- ‚úÖ T√¨m ki·∫øm b√†i vi·∫øt theo n·ªôi dung
- ‚úÖ T√¨m ki·∫øm theo t√™n ng∆∞·ªùi d√πng
- ‚úÖ Filter v√† sort k·∫øt qu·∫£

### üë®‚Äçüíº Admin Dashboard
- ‚úÖ Qu·∫£n l√Ω ng∆∞·ªùi d√πng
- ‚úÖ Th√™m/X√≥a/S·ª≠a ng∆∞·ªùi d√πng
- ‚úÖ Ph√¢n quy·ªÅn cho ng∆∞·ªùi d√πng

## üõ†Ô∏è C√¥ng ngh·ªá s·ª≠ d·ª•ng

### Backend
- **PHP 7.4+** - Ng√¥n ng·ªØ l·∫≠p tr√¨nh ch√≠nh
- **MySQL/MariaDB** - H·ªá qu·∫£n tr·ªã c∆° s·ªü d·ªØ li·ªáu
- **MySQLi** - Extension ƒë·ªÉ k·∫øt n·ªëi database

### Frontend
- **HTML5** - C·∫•u tr√∫c trang web
- **CSS3** - Styling v·ªõi Galaxy theme
- **JavaScript (Vanilla)** - T∆∞∆°ng t√°c ng∆∞·ªùi d√πng
- **Font Awesome 6.4.0** - Icon library
- **jQuery 3.6.0** - DOM manipulation

### Server
- **Apache/Nginx** - Web server
- **XAMPP/WAMP** - Local development environment

### Security Features (Intentionally Vulnerable)
- ‚ö†Ô∏è SQL Injection vulnerabilities
- ‚ö†Ô∏è XSS (Cross-Site Scripting)
- ‚ö†Ô∏è CSRF (Cross-Site Request Forgery)
- ‚ö†Ô∏è Path Traversal
- ‚ö†Ô∏è Session management issues
- ‚ö†Ô∏è Plaintext password storage

## üì¶ C√†i ƒë·∫∑t

### Y√™u c·∫ßu h·ªá th·ªëng
- PHP >= 7.4
- MySQL/MariaDB >= 5.7
- Apache/Nginx web server
- XAMPP/WAMP (khuy·∫øn ngh·ªã cho Windows)

### B∆∞·ªõc 1: Clone ho·∫∑c t·∫£i project
```bash
# Clone t·ª´ Git
git clone <repository-url>

# Ho·∫∑c t·∫£i file ZIP v√† gi·∫£i n√©n v√†o th∆∞ m·ª•c htdocs (XAMPP)
# ƒê∆∞·ªùng d·∫´n: C:\xampp\htdocs\mini_social
```

### B∆∞·ªõc 2: Import Database
```sql
-- T·∫°o database
CREATE DATABASE mini_social CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;

-- S·ª≠ d·ª•ng database
USE mini_social;

-- T·∫°o b·∫£ng users
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(50) NOT NULL UNIQUE,
    password VARCHAR(255) NOT NULL,
    role VARCHAR(20) DEFAULT 'user',
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- T·∫°o b·∫£ng posts
CREATE TABLE posts (
    id INT AUTO_INCREMENT PRIMARY KEY,
    user_id INT NOT NULL,
    content TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- T·∫°o b·∫£ng tracking (cho SQL injection testing)
CREATE TABLE tracking (
    id INT AUTO_INCREMENT PRIMARY KEY,
    TrackingId VARCHAR(50) NOT NULL,
    user_id INT,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

-- Insert d·ªØ li·ªáu m·∫´u
INSERT INTO users (username, password, role) VALUES 
('admin', 'admin123', 'admin'),
('user1', 'password123', 'user'),
('test1', 'test123', 'user');

INSERT INTO posts (user_id, content) VALUES 
(1, 'Welcome to Mini Social! This is the first post.'),
(2, 'Hello everyone! Nice to meet you all.'),
(1, 'Admin announcement: Please follow community guidelines.');
```

### B∆∞·ªõc 3: C·∫•u h√¨nh Database
M·ªü file `config.php` v√† c·∫•u h√¨nh th√¥ng tin database:
```php
<?php
$config = new mysqli('localhost', 'root', '', 'mini_social');
if($config->connect_error){
    die('K·∫øt n·ªëi th·∫•t b·∫°i ' . $config->connect_error);
}
$config->set_charset('utf8mb4');
?>
```

### B∆∞·ªõc 4: T·∫°o th∆∞ m·ª•c uploads
```bash
# T·∫°o th∆∞ m·ª•c ƒë·ªÉ l∆∞u avatar v√† files
mkdir uploads
chmod 755 uploads  # Linux/Mac
```

Ho·∫∑c tr√™n Windows, t·∫°o th∆∞ m·ª•c `uploads` trong th∆∞ m·ª•c `mini_social`.

### B∆∞·ªõc 5: Kh·ªüi ƒë·ªông Server
```bash
# N·∫øu d√πng XAMPP
# 1. M·ªü XAMPP Control Panel
# 2. Start Apache
# 3. Start MySQL

# Truy c·∫≠p: http://localhost/mini_social
```

## üìñ H∆∞·ªõng d·∫´n s·ª≠ d·ª•ng

### 1. ƒêƒÉng k√Ω t√†i kho·∫£n
1. Truy c·∫≠p: `http://localhost/mini_social/register.php`
2. Nh·∫≠p username, password v√† x√°c nh·∫≠n password
3. Click "Register"
4. ƒêƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n v·ª´a t·∫°o

### 2. ƒêƒÉng nh·∫≠p
1. Truy c·∫≠p: `http://localhost/mini_social/index.php`
2. Nh·∫≠p username v√† password
3. Click "Login"

**T√†i kho·∫£n m·∫∑c ƒë·ªãnh:**
- **Admin**: username: `admin`, password: `admin123`
- **User**: username: `user1`, password: `password123`

### 3. ƒêƒÉng b√†i vi·∫øt
1. Sau khi ƒëƒÉng nh·∫≠p, ·ªü trang Home
2. Nh·∫≠p n·ªôi dung v√†o textarea "B·∫°n ƒëang nghƒ© g√¨?"
3. Click "ƒêƒÉng b√†i"
4. B√†i vi·∫øt s·∫Ω xu·∫•t hi·ªán trong danh s√°ch

### 4. Ch·ªânh s·ª≠a/X√≥a b√†i vi·∫øt
1. Hover v√†o b√†i vi·∫øt c·ªßa b·∫°n
2. Click icon 3 ch·∫•m (‚ãÆ)
3. Ch·ªçn "S·ª≠a" ƒë·ªÉ ch·ªânh s·ª≠a ho·∫∑c "X√≥a" ƒë·ªÉ x√≥a b√†i

### 5. T√¨m ki·∫øm
1. S·ª≠ d·ª•ng search box ·ªü ƒë·∫ßu trang
2. Nh·∫≠p t·ª´ kh√≥a (t√™n ng∆∞·ªùi d√πng ho·∫∑c n·ªôi dung)
3. Click "T√¨m"

### 6. S·∫Øp x·∫øp b√†i vi·∫øt
- **All**: Hi·ªÉn th·ªã t·∫•t c·∫£ b√†i vi·∫øt
- **T√™n ng∆∞·ªùi d√πng**: S·∫Øp x·∫øp theo username A-Z
- **Ng√†y ƒëƒÉng (m·ªõi nh·∫•t)**: B√†i m·ªõi nh·∫•t tr∆∞·ªõc
- **Ng√†y ƒëƒÉng (c≈© nh·∫•t)**: B√†i c≈© nh·∫•t tr∆∞·ªõc

### 7. Qu·∫£n l√Ω Profile
1. Click v√†o avatar ·ªü g√≥c ph·∫£i
2. Truy c·∫≠p Profile page
3. ƒê·ªïi username b·∫±ng c√°ch nh·∫≠p username m·ªõi v√† click "ƒê·ªïi username"

### 8. Admin - Qu·∫£n l√Ω ng∆∞·ªùi d√πng
1. ƒêƒÉng nh·∫≠p v·ªõi t√†i kho·∫£n admin
2. Click n√∫t "user" ·ªü g√≥c ph·∫£i
3. Xem danh s√°ch ng∆∞·ªùi d√πng
4. Th√™m/S·ª≠a/X√≥a ng∆∞·ªùi d√πng

## üîí Danh s√°ch l·ªó h·ªïng b·∫£o m·∫≠t (Cho m·ª•c ƒë√≠ch h·ªçc t·∫≠p)

### 1. SQL Injection
- **File**: `index.php` (line 34)
- **Exploit**: `admin' -- ` ƒë·ªÉ bypass login
- **File**: `home.php` (line 31, 81)
- **Exploit**: Boolean-based SQLi, UNION-based SQLi

### 2. XSS (Cross-Site Scripting)
- **File**: `home.php` (line 238)
- **Type**: DOM-based XSS
- **Exploit**: `?q="><script>alert(1)</script>`
- **File**: `register.php` (line 74)
- **Type**: Reflected XSS

### 3. CSRF (Cross-Site Request Forgery)
- **File**: `change_username.php` (line 20)
- **Exploit**: Bypass CSRF token validation
- **File**: `change_username2.php` (line 11)
- **Exploit**: GET-based CSRF
- **File**: `delete_post.php` (line 33)
- **Exploit**: Delete posts via GET request

### 4. Plaintext Password Storage
- **File**: `register.php` (line 30)
- **Issue**: Passwords stored without hashing

### 5. Path Traversal
- **File**: `loadImage.php`
- **Exploit**: Access files outside uploads directory

### 6. Missing Authorization
- **File**: `edit_post.php`
- **Issue**: Users can edit other users' posts

### 7. Session Fixation
- Multiple files missing `session_regenerate_id()`

## üìÅ C·∫•u tr√∫c th∆∞ m·ª•c

```
mini_social/
‚îú‚îÄ‚îÄ index.php              # Trang ƒëƒÉng nh·∫≠p
‚îú‚îÄ‚îÄ register.php           # Trang ƒëƒÉng k√Ω
‚îú‚îÄ‚îÄ home.php              # Trang ch·ªß (feed b√†i vi·∫øt)
‚îú‚îÄ‚îÄ profile.php           # Trang profile ng∆∞·ªùi d√πng
‚îú‚îÄ‚îÄ config.php            # C·∫•u h√¨nh database
‚îú‚îÄ‚îÄ add_user.php          # Th√™m ng∆∞·ªùi d√πng (admin)
‚îú‚îÄ‚îÄ edit_user.php         # S·ª≠a ng∆∞·ªùi d√πng (admin)
‚îú‚îÄ‚îÄ delete_user.php       # X√≥a ng∆∞·ªùi d√πng (admin)
‚îú‚îÄ‚îÄ user_manage.php       # Qu·∫£n l√Ω ng∆∞·ªùi d√πng (admin)
‚îú‚îÄ‚îÄ edit_post.php         # S·ª≠a b√†i vi·∫øt
‚îú‚îÄ‚îÄ delete_post.php       # X√≥a b√†i vi·∫øt
‚îú‚îÄ‚îÄ change_username.php   # ƒê·ªïi username (POST)
‚îú‚îÄ‚îÄ change_username2.php  # ƒê·ªïi username (GET - vulnerable)
‚îú‚îÄ‚îÄ loadImage.php         # Load ·∫£nh t·ª´ uploads
‚îú‚îÄ‚îÄ clean_xss.php         # Script x√≥a XSS payloads
‚îú‚îÄ‚îÄ styles.css            # CSS styling
‚îú‚îÄ‚îÄ style.js              # JavaScript functions
‚îú‚îÄ‚îÄ README.md             # File n√†y
‚îú‚îÄ‚îÄ AUTH_VULNS_LIST.md    # Danh s√°ch l·ªó h·ªïng authentication
‚îú‚îÄ‚îÄ uploads/              # Th∆∞ m·ª•c ch·ª©a files upload
‚îî‚îÄ‚îÄ views/                # Th∆∞ m·ª•c ch·ª©a HTML templates
    ‚îú‚îÄ‚îÄ index.html
    ‚îú‚îÄ‚îÄ home.html
    ‚îú‚îÄ‚îÄ register.html
    ‚îî‚îÄ‚îÄ user_manage.html
```

## üß™ Testing & Security

### C√¥ng c·ª• testing ƒë∆∞·ª£c s·ª≠ d·ª•ng
- **Burp Suite** - Web vulnerability scanner
- **sqlmap** - SQL injection testing
- **Custom Python scripts** - Automated testing

### File testing
- `test_sqli.py` - Script test SQL injection
- `conditionall_error_lab.py` - Test conditional errors
- `time_base_lab.py` - Time-based blind SQLi

### Ch·∫°y tests
```bash
# Test SQL Injection
python test_sqli.py

# K·∫øt qu·∫£ s·∫Ω ƒë∆∞·ª£c l∆∞u trong th∆∞ m·ª•c logs/
```

## üîß Troubleshooting

### L·ªói k·∫øt n·ªëi database
```
Error: K·∫øt n·ªëi th·∫•t b·∫°i Connection refused
```
**Gi·∫£i ph√°p**: Ki·ªÉm tra MySQL ƒë√£ ch·∫°y ch∆∞a, ki·ªÉm tra th√¥ng tin trong `config.php`

### L·ªói 404 Not Found
**Gi·∫£i ph√°p**: Ki·ªÉm tra ƒë∆∞·ªùng d·∫´n file, ƒë·∫£m b·∫£o Apache ƒë√£ start

### L·ªói Permission Denied (uploads)
```bash
# Linux/Mac
chmod 755 uploads/
chmod 644 uploads/*

# Windows: Right-click folder > Properties > Security > Edit permissions
```

### Session kh√¥ng ho·∫°t ƒë·ªông
**Gi·∫£i ph√°p**: Ki·ªÉm tra `session.save_path` trong `php.ini`, ƒë·∫£m b·∫£o th∆∞ m·ª•c t·ªìn t·∫°i v√† c√≥ quy·ªÅn write

## üìö T√†i li·ªáu tham kh·∫£o

- [PHP Manual](https://www.php.net/manual/en/)
- [OWASP Top 10](https://owasp.org/www-project-top-ten/)
- [SQL Injection Cheat Sheet](https://portswigger.net/web-security/sql-injection/cheat-sheet)
- [XSS Prevention Cheat Sheet](https://cheatsheetseries.owasp.org/cheatsheets/Cross_Site_Scripting_Prevention_Cheat_Sheet.html)

## üìù Changelog

### Version 1.0.0 (Current)
- ‚úÖ Ch·ª©c nƒÉng ƒëƒÉng k√Ω/ƒëƒÉng nh·∫≠p
- ‚úÖ CRUD b√†i vi·∫øt
- ‚úÖ T√¨m ki·∫øm v√† s·∫Øp x·∫øp
- ‚úÖ Admin panel
- ‚úÖ Profile management
- ‚ö†Ô∏è Intentional security vulnerabilities for learning

## üë• ƒê√≥ng g√≥p

D·ª± √°n n√†y ph·ª•c v·ª• m·ª•c ƒë√≠ch gi√°o d·ª•c. N·∫øu b·∫°n mu·ªën ƒë√≥ng g√≥p:
1. Fork repository
2. T·∫°o branch m·ªõi (`git checkout -b feature/AmazingFeature`)
3. Commit changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to branch (`git push origin feature/AmazingFeature`)
5. T·∫°o Pull Request

## ‚öñÔ∏è License

D·ª± √°n n√†y ƒë∆∞·ª£c ph√°t h√†nh d∆∞·ªõi MIT License - xem file LICENSE ƒë·ªÉ bi·∫øt th√™m chi ti·∫øt.

## ‚ö†Ô∏è Disclaimer

D·ª± √°n n√†y ƒë∆∞·ª£c t·∫°o ra **CH·ªà** cho m·ª•c ƒë√≠ch gi√°o d·ª•c v√† nghi√™n c·ª©u b·∫£o m·∫≠t. C√°c l·ªó h·ªïng ƒë∆∞·ª£c c·ªë √Ω t·∫°o ra ƒë·ªÉ h·ªçc t·∫≠p. **KH√îNG** s·ª≠ d·ª•ng trong m√¥i tr∆∞·ªùng th·ª±c t·∫ø ho·∫∑c production. T√°c gi·∫£ kh√¥ng ch·ªãu tr√°ch nhi·ªám v·ªÅ vi·ªác s·ª≠ d·ª•ng sai m·ª•c ƒë√≠ch.

---

**Developed for Educational Purposes** üéì
**Author**: Security Research Team
**Last Updated**: November 2025